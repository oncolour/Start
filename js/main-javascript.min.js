document.addEventListener("DOMContentLoaded",function(){var e;Barba.Pjax.init(),Barba.Prefetch.init(),Barba.Dispatcher.on("linkClicked",function(t){e=t});var t=Barba.BaseTransition.extend({start:function(){this.originalThumb=e,Promise.all([this.newContainerLoading,this.enlargeThumb()]).then(this.showNewPage.bind(this))},enlargeThumb:function(){var e=Barba.Utils.deferred(),t=this.originalThumb.getBoundingClientRect();return this.cloneThumb=this.originalThumb.cloneNode(!0),this.cloneThumb.style.position="absolute",this.cloneThumb.style.top=t.top+"px",this.oldContainer.appendChild(this.cloneThumb),TweenLite.to(this.cloneThumb,.3,{top:0,height:window.innerHeight,onComplete:function(){e.resolve()}}),e.promise},showNewPage:function(){this.newContainer.style.visibility="visible",this.done()}}),i=Barba.BaseTransition.extend({start:function(){this.newContainerLoading.then(this.shrinkImage.bind(this))},shrinkImage:function(){var e=this;this.oldContainer.style.zIndex="10",this.newContainer.style.visibility="visible";var t=Barba.HistoryManager.prevStatus().url.split("/").pop(),i=this.newContainer.querySelector('a[href="'+t+'"]'),n=i.getBoundingClientRect(),o=this.oldContainer.querySelector(".full");TweenLite.to(this.oldContainer.querySelector(".back"),.2,{opacity:0}),TweenLite.to(o,.3,{top:n.top,height:i.clientHeight,onComplete:function(){e.done()}})}});Barba.Pjax.getTransition=function(){var e=t;return"detail"===Barba.HistoryManager.prevStatus().namespace&&(e=i),e}});